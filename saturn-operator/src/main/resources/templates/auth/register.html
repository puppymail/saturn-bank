<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Register</title>
  <link rel="stylesheet" th:href="@{/styles.css}"/>
</head>
<body>
<h4>Register</h4>
<form th:method="POST" th:action="@{/register}" th:object="${registrationForm}">
  <div th:if="${#fields.hasAnyErrors()}" class="error" style="color:red">
    Unable to register new user. Please fix errors and resubmit:
    <br/>
  </div>
  <label for="firstName">Enter first name:</label><br/>
  <input type="text" th:field="*{firstName}" id="firstName">
  <br/>
  <div th:if="${#fields.hasErrors('firstName')}" class="error" style="color:red" th:errors="*{firstName}">
    Invalid first name.
  </div>
  <label for="lastName">Enter last name:</label><br/>
  <input type="text" th:field="*{lastName}" id="lastName">
  <br/>
  <div th:if="${#fields.hasErrors('lastName')}" class="error" style="color:red" th:errors="*{lastName}">
    Invalid last name.
  </div>
  <label for="middleName">Enter middle name (not required):</label><br/>
  <input type="text" th:field="*{middleName}" id="middleName">
  <br/>
  <div th:if="${#fields.hasErrors('middleName')}" class="error" style="color:red" th:errors="*{middleName}">
    Invalid middle name.
  </div>
  <label for="birthDate">Enter date of birth:</label><br/>
  <input type="date" th:field="*{birthDate}" id="birthDate">
  <br/>
  <div th:if="${#fields.hasErrors('birthDate')}" class="error" style="color:red" th:errors="*{birthDate}">
    Invalid birth date.
  </div>
  <label for="phoneNumber">Enter phone number:</label><br/>
  <input type="text" th:field="*{phoneNumber}" id="phoneNumber">
  <br/>
  <div th:if="${#fields.hasErrors('phoneNumber')}" class="error" style="color:red" th:errors="*{phoneNumber}">
    Invalid phone number.
  </div>
  <label for="email">Enter email:</label><br/>
  <input type="email" th:field="*{email}" id="email">
  <br/>
  <div th:if="${#fields.hasErrors('email')}" class="error" style="color:red" th:errors="*{email}">
    Invalid email.
  </div>
  <label for="password">Enter password:</label><br/>
  <input type="text" th:field="*{password}" id="password">
  <br/>
  <div th:if="${#fields.hasErrors('password')}" class="error" style="color:red" th:errors="*{password}">
    Invalid password.
  </div>
  <!--            TODO change radio buttons to drop-down lists and pull types/roles from db tables-->
  <p>Select type:</p>
  <div>
    <label for="type_client"><b>CLIENT</b></label>
    <input type="radio" th:field="*{type}" id="type_client" name="type" value="CLIENT">
    <label for="type_employee"><b>EMPLOYEE</b></label>
    <input type="radio" th:field="*{type}" id="type_employee" name="type" value="EMPLOYEE">
  </div>
  <p>Select role:</p>
  <div>
    <label for="role_client"><b>CLIENT</b></label>
    <input type="radio" th:field="*{role}" id="role_client" name="role" value="CLIENT">
    <label for="role_operator"><b>OPERATOR</b></label>
    <input type="radio" th:field="*{role}" id="role_operator" name="role" value="OPERATOR">
    <label for="role_admin"><b>ADMIN</b></label>
    <input type="radio" th:field="*{role}" id="role_admin" name="role" value="ADMIN">
    <label for="role_atm"><b>ATM</b></label>
    <input type="radio" th:field="*{role}" id="role_atm" name="role" value="ATM">
  </div>
  <br/>
  <p><input type="submit" value="Register"><input type="reset" value="Reset"></p>
</form>
</body>
</html>